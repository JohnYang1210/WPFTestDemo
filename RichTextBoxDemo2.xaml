<UserControl x:Class="wpfTestStudio.RichTextBoxDemo2"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:wpfTestStudio"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <Grid>
        <FlowDocumentScrollViewer>
            <FlowDocument>
                <Paragraph>
                    本文介绍环信即时通讯 IM SDK 如何管理本地消息数据。SDK 内部使用 SQLite 保存本地消息，方便消息处理。

除了发送和接收消息外，环信即时通讯 IM SDK 还支持以会话为单位对本地的消息数据进行管理，如获取与管理未读消息、删除聊天记录、搜索历史消息等。其中，会话是一个单聊、群聊或者聊天室所有消息的集合。用户需在会话中发送消息或查看历史消息，还可进行会话置顶、清空聊天记录等操作。

本文介绍如何使用环信即时通讯 IM SDK 在 app 中实现这些功能。
                </Paragraph>
                <Paragraph>
                    环信即时通讯 IM SDK 通过 IChatManager 和 IConversationManager 类实现对本地消息的管理，其中核心方法如下：

IChatManager.LoadAllConversations 加载本地存储会话列表;
IChatManager.DeleteConversation 删除本地存储的会话；
IConversationManager.UnReadCount 获取指定会话的未读消息数；
IChatManager.GetUnreadMessageCount 获取所有未读消息数；
IChatManager.DeleteConversationFromServer 删除服务端的会话和聊天记录；
IChatManager.SearchMsgFromDB 在本地存储的消息中搜索；
Conversation.insertMessage 在指定会话中写入消息。
                </Paragraph>
            </FlowDocument>
        </FlowDocumentScrollViewer>
    </Grid>
</UserControl>
